using System;
using System.Linq;
using Shouldly;
using System.Threading.Tasks;
using Volo.Abp.Domain.Repositories;
using Xunit;

namespace Resume.ResumeSnapshots
{
    public class ResumeSnapshotsAppServiceTests : ResumeApplicationTestBase
    {
        private readonly IResumeSnapshotsAppService _resumeSnapshotsAppService;
        private readonly IRepository<ResumeSnapshot, Guid> _resumeSnapshotRepository;

        public ResumeSnapshotsAppServiceTests()
        {
            _resumeSnapshotsAppService = GetRequiredService<IResumeSnapshotsAppService>();
            _resumeSnapshotRepository = GetRequiredService<IRepository<ResumeSnapshot, Guid>>();
        }

        [Fact]
        public async Task GetListAsync()
        {
            // Act
            var result = await _resumeSnapshotsAppService.GetListAsync(new GetResumeSnapshotsInput());

            // Assert
            result.TotalCount.ShouldBe(2);
            result.Items.Count.ShouldBe(2);
            result.Items.Any(x => x.Id == Guid.Parse("93441a69-0f55-47cc-ac39-0d3237dec291")).ShouldBe(true);
            result.Items.Any(x => x.Id == Guid.Parse("4b9fe1f7-b539-4733-a517-988e27c88dee")).ShouldBe(true);
        }

        [Fact]
        public async Task GetAsync()
        {
            // Act
            var result = await _resumeSnapshotsAppService.GetAsync(Guid.Parse("93441a69-0f55-47cc-ac39-0d3237dec291"));

            // Assert
            result.ShouldNotBeNull();
            result.Id.ShouldBe(Guid.Parse("93441a69-0f55-47cc-ac39-0d3237dec291"));
        }

        [Fact]
        public async Task CreateAsync()
        {
            // Arrange
            var input = new ResumeSnapshotCreateDto
            {
                UserMainId = Guid.Parse("cf1fc21f-3776-46fa-be5c-4d6b2cfbfa3a"),
                ResumeMainId = Guid.Parse("6b1a3359-6466-48b8-9599-565763b0449e"),
                CompanyMainId = Guid.Parse("997a590d-486c-4a55-aaef-5786fd5d016e"),
                CompanyJobId = Guid.Parse("37d2974c-22ee-46df-b32b-428a0971cead"),
                Snapshot = "080b3af327db4f169e1fd4ad370931ef28e1f5fb40da4e4790286c1182d6b208a0480b745cf9484f924a6191160f11be4782b973069e45008ebfddb84295765cb1a4bd0f1f13462f9466632e0f049ef596a8651e8fc54a54bc79ef63da86deb8a950295cbeb54f6982bc5f1d9d3c0952d1ddf56e88b34858bc49751c403d1592e79ebf15b7354a58a42d7851a22e2994f206a931a7c14fd88c3a36096e8a5e376027272404fd4f31943211ce3ee80c2abfd02a020a274d2bbb7dce8649e74259526583f922c54ea4a89c5b64bcec63e00e5bf0d1b23745ef98e6fa4b4b8aadf9b5d547e9ac2544d6a2a16ef4fe222c5e51959274af474dcbb8e7b34a7f9966df34ef0c2a00f243a9b4cf08d5f1eada6b02a86bdb082349eaaeecef2ee58d2ad1529e4f11e7cc4b2599e6efd2d0c1a3e4672b7a8997174bc4813212a1861a73581556f9a2b1c247ea8fa9a9abef3036590cb8ba2ff54c42e8b4b9d600e63be38ed139c72271f24880a898e5b2a2c9ae9b1e6e5e9c5e2042eabaf897f49df3c03c55be2ba29b3145c08121e90b87d3504ad02e14a418764a02a8be63495e2007f7e745c7c3b155478fbd948e17c5b8dac144c1ee8b3263495196fa6ef1908d6c21156182d035d449c7aed84b699298902f67f4f523fdf7401cb3df86a95054aff075758e7d931b442aa03da99fd0329018aff78bdd66c34bbfb133dd37555cb13f3f7000c42fad428384b2beff4347f2a2f97ba3f5abe34e849d7af2bb56bd306074fefde141c140c884350d27914638f06d13b4862a2140838afb9ce872824d0ad252c28bcfc0453da802020eeeea50eed978800984de438ca61d26bbf1c976a9cd1ae83626b742a29de0fb9d73de7db787a66ae978744a74b2db0a2fb02d0e4e272ccbdd466c463bb4c78d6850604e2c82b1993b0a474629a1946ead69a738b36a863496e89e42b69bec4d1bdb809b979cc7b4ab3b574c28bda4b3ddd0487054a1197f8a978941f389c65407246c819e27ca9b2a748c4d51bc836ed22c0d434d4df2021622634e6598758cb8d93c4bfdc0059ff00b2e46d38e55ccc00b8fc62fe8b62964b96745af85c8984d90a4dc57e2a0aaf5dd3349d68b8f73fc0ddcc99783584df84d8f4bab8aab7f9f7f2bd859cf16e508ba0746609cab2d46be74970e34c5a2789f6940ae9a981fcec57bdc6e1cb0027dde504fe9a6cb87539cc54d9931a55b160d154c22810d2d226eb5d47f67701e695edf42b099c90becb1d161f1af3794d2fd82403d8b0bb4a0fb76b3766af45cd2fd934057b1d323cda83df44f6e685c0042234466b613756beb7fe503ffb55ad8a5364b068044d15609563533f46b192409e94220a253cbf782f7331807ec6c2ffcf64ef89faa10de13fd2e4d75ae1e3b4ca24e2bb8419d29140d62312bf3714d547c4d9e88423547a029827c350a8ce788ad4db4a300727df41f8746f7a71dae9f8b4f97b046cb7ef96fa596323ce1dbab044017aec1ca51de736cbe966285e4c1a14f07bdf2314176024f0a85b297d9ae38481a96b0e4cdc982c89bcbf49961183d4d74905be96a6150d3685339888c7ec34433bd2613d475fd9376ed6345da66614b8dbef3c0041208aba1fd33a6475f6b416b99b4888df56953c863ed49a756204634b6f861e05688266a6164d100f47540a9a2c8c9f660302045823fddb7a920421c91f2f2ddd0f28cac64781d639c274fe39215fa443defceb38583745b60fb4753be082ec6214342f29116ac879027458cb757f9deec56c0e14208fa59eac942ea95a0dbdc97c6d21345b936f5281349b5be3491a28bb5318656e1cce464dc4121a67cbadd8dd5d2411f8cd61fa7c7416d9851dbf98e7d3f4bed2c301b2fc14eec8d21176387d40bdcbf6d1eb97a5b461c9c015da8a1f5f20258ba31c6cad348bdb78122e24d84c3f9a45352ff435447ad934778992546aab58386c3af003a41128672441524eb6881ec3547e64ea1404aa1567d2f82606c90a62efdde6efa4a1fbc593d1b012d7d91b10af1daf7be49f1901a206a85a9a6848e864f5c8691445ba370f466253812caa3a9ce0c4161480185058d7b4eb051a767cb7c8a62734917a20c9d1af10d82a6894cd2b9ac744b2bbe54be09aa848071d7507906f18643bf923880a2f1e0f3a2896fe5d526c54f7e994b65561281248c781a8d20163e47bebb1ff7fc8deae01063734a4190cf47d0825b0f9bb3e09c021779b2179ba84e83ae82002a734c0d0c5826cbece7d04922a684c7431993ca096dce556a3a2448658b68d3e254c0a565ddcba190df364614b4054c4a5d04a08ad0aecbf53d4f4381b61e390902ffa0a79ad0a349b69e4552999a355b3ba507200430010c3580467ca1601199782710d9b0874ec685e64994b479734d47beeb95d55e536ee9ef4631bf1b0d2e67df1d9392c9047191fa42588690300e5ac7281c6bee135696dd488eb5e9452b7f95a1723f675ac047ae4093a05f32dfca02378ea6c0f649f3384da09ea221b5bc7c6287c9506ecf9f554d7fbde78270f1dd051fe684ffd3cbbb4d2d8801d46eb94809272757e4d8a72a4a599b68d3686c5dd37d3b322ffc01fc433e97d67547ad217c512555a737195449c58731e8ad99082a71e292021a74e443d5ad1d76e3cdcd5e5bff6ee4cc2f08407e9b739a71aa2f2a7f71706446361b43eb826892b1fcfac6ef57ba454eae354f27857816121c3001872dd106ca28e54447a29534400d2f3b17fd0aafd58d1d473c99404e7d37d9efb4cb9f1de837fa45a48a677e5a0d565e9674e20dfee96a4c4fa7392db0739cd533",
                UserCompanyBindId = Guid.Parse("ba7cfc08-400b-4622-be93-06be369f888e"),
                ExtendedInformation = "acf4021dc9774b16b1652c9808aae16a867870f1e9a74ab39dcd75c43cb93f8e341e901f29d34e54a956b11280e9abc90e6425d9ed504d7bb3c3f35cd772277fc25d73dd536745f884e8fbe09d8c8056c066ecd4f1864cdbb0cc3aa4355de3fb924a9bd1a32d4ee29569e34c357527c999c789addc984590b6c8cd1981fcff9fe6559ef97c654b6795c427c761ade537ef55b695032d4536862e9a8b0aa1a611f9e8c8dbf6344e3ab195e20b8e4b77eac5d1a28deb954cfbb3783539331a5ff5bbf66fee2c924fec8c747d989606c866ee994cf977a74d2fa23f6b27ee96778e60252e4ffc60417992d4804f901f37dbeabb6759d2bf4ccfabf3",
                DateA = new DateTime(2001, 2, 7),
                DateD = new DateTime(2020, 9, 26),
                Sort = 166049277,
                Note = "6c8f8e51021942a99003a787b063f42d29d0ec5f9cbe419da5b50bff4f4037e3cf67743e91234b309151226eed7c049a29be2112a17246c4870b26816ce96580f85d0101f2bb487e90ef5ed04894d5c18be63b2dd238493685d74d3aafbeb6730a6842479e9f4db1a6d0edd035f981aaa8cfff9082c849da97d767c3a63632d1ae300d9ba2914258afd73a6a714b7e2b42f669385c914498a4833d1d8bf911eedab3d70c8a374e34a8c7fec0c5c3306a8b97e70d221a457a9a24abd52dc0c0208aca22e3ae454e85ad93d18d04e1429fd75abbc12cfc4b2eb8916d027ac098906ebd8eaf77924ac4a67f0fb7a862aa94382b0b60bebf437ea7e8",
                Status = "7cc6da738f9e4e8d9a44bcef1ec4f9b5a5d550900dac413e8c"
            };

            // Act
            var serviceResult = await _resumeSnapshotsAppService.CreateAsync(input);

            // Assert
            var result = await _resumeSnapshotRepository.FindAsync(c => c.Id == serviceResult.Id);

            result.ShouldNotBe(null);
            result.UserMainId.ShouldBe(Guid.Parse("cf1fc21f-3776-46fa-be5c-4d6b2cfbfa3a"));
            result.ResumeMainId.ShouldBe(Guid.Parse("6b1a3359-6466-48b8-9599-565763b0449e"));
            result.CompanyMainId.ShouldBe(Guid.Parse("997a590d-486c-4a55-aaef-5786fd5d016e"));
            result.CompanyJobId.ShouldBe(Guid.Parse("37d2974c-22ee-46df-b32b-428a0971cead"));
            result.Snapshot.ShouldBe("080b3af327db4f169e1fd4ad370931ef28e1f5fb40da4e4790286c1182d6b208a0480b745cf9484f924a6191160f11be4782b973069e45008ebfddb84295765cb1a4bd0f1f13462f9466632e0f049ef596a8651e8fc54a54bc79ef63da86deb8a950295cbeb54f6982bc5f1d9d3c0952d1ddf56e88b34858bc49751c403d1592e79ebf15b7354a58a42d7851a22e2994f206a931a7c14fd88c3a36096e8a5e376027272404fd4f31943211ce3ee80c2abfd02a020a274d2bbb7dce8649e74259526583f922c54ea4a89c5b64bcec63e00e5bf0d1b23745ef98e6fa4b4b8aadf9b5d547e9ac2544d6a2a16ef4fe222c5e51959274af474dcbb8e7b34a7f9966df34ef0c2a00f243a9b4cf08d5f1eada6b02a86bdb082349eaaeecef2ee58d2ad1529e4f11e7cc4b2599e6efd2d0c1a3e4672b7a8997174bc4813212a1861a73581556f9a2b1c247ea8fa9a9abef3036590cb8ba2ff54c42e8b4b9d600e63be38ed139c72271f24880a898e5b2a2c9ae9b1e6e5e9c5e2042eabaf897f49df3c03c55be2ba29b3145c08121e90b87d3504ad02e14a418764a02a8be63495e2007f7e745c7c3b155478fbd948e17c5b8dac144c1ee8b3263495196fa6ef1908d6c21156182d035d449c7aed84b699298902f67f4f523fdf7401cb3df86a95054aff075758e7d931b442aa03da99fd0329018aff78bdd66c34bbfb133dd37555cb13f3f7000c42fad428384b2beff4347f2a2f97ba3f5abe34e849d7af2bb56bd306074fefde141c140c884350d27914638f06d13b4862a2140838afb9ce872824d0ad252c28bcfc0453da802020eeeea50eed978800984de438ca61d26bbf1c976a9cd1ae83626b742a29de0fb9d73de7db787a66ae978744a74b2db0a2fb02d0e4e272ccbdd466c463bb4c78d6850604e2c82b1993b0a474629a1946ead69a738b36a863496e89e42b69bec4d1bdb809b979cc7b4ab3b574c28bda4b3ddd0487054a1197f8a978941f389c65407246c819e27ca9b2a748c4d51bc836ed22c0d434d4df2021622634e6598758cb8d93c4bfdc0059ff00b2e46d38e55ccc00b8fc62fe8b62964b96745af85c8984d90a4dc57e2a0aaf5dd3349d68b8f73fc0ddcc99783584df84d8f4bab8aab7f9f7f2bd859cf16e508ba0746609cab2d46be74970e34c5a2789f6940ae9a981fcec57bdc6e1cb0027dde504fe9a6cb87539cc54d9931a55b160d154c22810d2d226eb5d47f67701e695edf42b099c90becb1d161f1af3794d2fd82403d8b0bb4a0fb76b3766af45cd2fd934057b1d323cda83df44f6e685c0042234466b613756beb7fe503ffb55ad8a5364b068044d15609563533f46b192409e94220a253cbf782f7331807ec6c2ffcf64ef89faa10de13fd2e4d75ae1e3b4ca24e2bb8419d29140d62312bf3714d547c4d9e88423547a029827c350a8ce788ad4db4a300727df41f8746f7a71dae9f8b4f97b046cb7ef96fa596323ce1dbab044017aec1ca51de736cbe966285e4c1a14f07bdf2314176024f0a85b297d9ae38481a96b0e4cdc982c89bcbf49961183d4d74905be96a6150d3685339888c7ec34433bd2613d475fd9376ed6345da66614b8dbef3c0041208aba1fd33a6475f6b416b99b4888df56953c863ed49a756204634b6f861e05688266a6164d100f47540a9a2c8c9f660302045823fddb7a920421c91f2f2ddd0f28cac64781d639c274fe39215fa443defceb38583745b60fb4753be082ec6214342f29116ac879027458cb757f9deec56c0e14208fa59eac942ea95a0dbdc97c6d21345b936f5281349b5be3491a28bb5318656e1cce464dc4121a67cbadd8dd5d2411f8cd61fa7c7416d9851dbf98e7d3f4bed2c301b2fc14eec8d21176387d40bdcbf6d1eb97a5b461c9c015da8a1f5f20258ba31c6cad348bdb78122e24d84c3f9a45352ff435447ad934778992546aab58386c3af003a41128672441524eb6881ec3547e64ea1404aa1567d2f82606c90a62efdde6efa4a1fbc593d1b012d7d91b10af1daf7be49f1901a206a85a9a6848e864f5c8691445ba370f466253812caa3a9ce0c4161480185058d7b4eb051a767cb7c8a62734917a20c9d1af10d82a6894cd2b9ac744b2bbe54be09aa848071d7507906f18643bf923880a2f1e0f3a2896fe5d526c54f7e994b65561281248c781a8d20163e47bebb1ff7fc8deae01063734a4190cf47d0825b0f9bb3e09c021779b2179ba84e83ae82002a734c0d0c5826cbece7d04922a684c7431993ca096dce556a3a2448658b68d3e254c0a565ddcba190df364614b4054c4a5d04a08ad0aecbf53d4f4381b61e390902ffa0a79ad0a349b69e4552999a355b3ba507200430010c3580467ca1601199782710d9b0874ec685e64994b479734d47beeb95d55e536ee9ef4631bf1b0d2e67df1d9392c9047191fa42588690300e5ac7281c6bee135696dd488eb5e9452b7f95a1723f675ac047ae4093a05f32dfca02378ea6c0f649f3384da09ea221b5bc7c6287c9506ecf9f554d7fbde78270f1dd051fe684ffd3cbbb4d2d8801d46eb94809272757e4d8a72a4a599b68d3686c5dd37d3b322ffc01fc433e97d67547ad217c512555a737195449c58731e8ad99082a71e292021a74e443d5ad1d76e3cdcd5e5bff6ee4cc2f08407e9b739a71aa2f2a7f71706446361b43eb826892b1fcfac6ef57ba454eae354f27857816121c3001872dd106ca28e54447a29534400d2f3b17fd0aafd58d1d473c99404e7d37d9efb4cb9f1de837fa45a48a677e5a0d565e9674e20dfee96a4c4fa7392db0739cd533");
            result.UserCompanyBindId.ShouldBe(Guid.Parse("ba7cfc08-400b-4622-be93-06be369f888e"));
            result.ExtendedInformation.ShouldBe("acf4021dc9774b16b1652c9808aae16a867870f1e9a74ab39dcd75c43cb93f8e341e901f29d34e54a956b11280e9abc90e6425d9ed504d7bb3c3f35cd772277fc25d73dd536745f884e8fbe09d8c8056c066ecd4f1864cdbb0cc3aa4355de3fb924a9bd1a32d4ee29569e34c357527c999c789addc984590b6c8cd1981fcff9fe6559ef97c654b6795c427c761ade537ef55b695032d4536862e9a8b0aa1a611f9e8c8dbf6344e3ab195e20b8e4b77eac5d1a28deb954cfbb3783539331a5ff5bbf66fee2c924fec8c747d989606c866ee994cf977a74d2fa23f6b27ee96778e60252e4ffc60417992d4804f901f37dbeabb6759d2bf4ccfabf3");
            result.DateA.ShouldBe(new DateTime(2001, 2, 7));
            result.DateD.ShouldBe(new DateTime(2020, 9, 26));
            result.Sort.ShouldBe(166049277);
            result.Note.ShouldBe("6c8f8e51021942a99003a787b063f42d29d0ec5f9cbe419da5b50bff4f4037e3cf67743e91234b309151226eed7c049a29be2112a17246c4870b26816ce96580f85d0101f2bb487e90ef5ed04894d5c18be63b2dd238493685d74d3aafbeb6730a6842479e9f4db1a6d0edd035f981aaa8cfff9082c849da97d767c3a63632d1ae300d9ba2914258afd73a6a714b7e2b42f669385c914498a4833d1d8bf911eedab3d70c8a374e34a8c7fec0c5c3306a8b97e70d221a457a9a24abd52dc0c0208aca22e3ae454e85ad93d18d04e1429fd75abbc12cfc4b2eb8916d027ac098906ebd8eaf77924ac4a67f0fb7a862aa94382b0b60bebf437ea7e8");
            result.Status.ShouldBe("7cc6da738f9e4e8d9a44bcef1ec4f9b5a5d550900dac413e8c");
        }

        [Fact]
        public async Task UpdateAsync()
        {
            // Arrange
            var input = new ResumeSnapshotUpdateDto()
            {
                UserMainId = Guid.Parse("276d0343-2bee-4ae7-9b27-7b8a07ec4a2c"),
                ResumeMainId = Guid.Parse("e916b41b-1a6f-4dcc-ab3e-d9508adf9cc5"),
                CompanyMainId = Guid.Parse("83c5599f-0383-423e-a386-904c4e22cb36"),
                CompanyJobId = Guid.Parse("760e65b6-979d-4b09-a55a-73abeaf8dc40"),
                Snapshot = "c84bf21d01944d2288e6353629562d3e6ee77104bbef42548aedc87e66cbadb57de694933d5f4e0c8268be58d4cea29b1107f25a71144268a394629b6e7a6b2bb47a60ef3f374c0f9c721d4aa56565269ca447756ba7435982244d867dbdc7e3b2f0babf74c44224ae561603dc117aa872f6e41c04ba4d979b6f1623ceb888b661cd6acbe09144aba9bd03bab602509c6006090c30ad4d569b1f811efc17fc2c5863fd73ef294cbc83853289f9c6f470eae03d25cbdf451fbe2bdb3784fff32bda12e20ad0384315ad9d4001d681feaf72580a042b894e7185a9e2e6675f47f972164237034644b8893d4ab5295bc58b126a9f2bfd2e406f89521f615d34580eed33a844a1e249e2a97219b854e7e32ab95cb9511c2e4682b29c83ad313810ba8f3fe03a94f44d3caf1478654e0e7d793173c6cef8ac492d8ec751599bfddfc04d38eb99171d4b13abe13f4972385c9327894435f7854c0798f8759b8caa2c2d79acb46197904ead9d5edd8cea267da376579c26b9e2467581a855d059224d5a0645b7ae9b86455085877adf5c71f109ab52462cb38649cf9f4fee330c58d4fed5e76ae379494a968bc637c56c790a1474aa5ad053a34895b47a9648068e2ac396b2f79498c54b0d8ada554335b5b1ddb1b934ae84ad402fb85ffff6f5849d95f9a1d11b57a246dca124bfb8c6d0eb55d735e6834d3448228d3248ba69d0b70156e1e739507a427ab75b56aca41dfe4daa358ba9fe6c46d389e7d82ee62cbd79caf4731c1f8f477483f31e506c29477d2c9ee19b47334a35b1b4b7bbaeb7ce31f6c62d40ab0e43a9b81aba8026d26f7dae17ea5ecf054a1d95937f1335fcfff6e01151392c6d4eda8faad79474a45c0076a2db4368ad45e094892b5589692f2e13b829f7d6f4487187487812ab6dcad4fb00653e8c804ee6941917480f758389c4461501f2e244bfbad09fc0dc673ceb5d33dd2ca7424f39a9987db13aaf7db0e5f8110cdbfe45b89448ffc0eede364314a4d417ca8b444e960b8fbfbe3392229b29f47dfdf746dc941e3ac11f5f672b4d31fbb623d246f6ab1f5216e5ced9bdb2703ae9a8ce4e6a9a9b061eb7c377b1948d73ce182b4320b141c623ac575c423b827cd3dbf848b9bf434e60388824fdac901471afa346809da7f2b0c582f2c3631d738a5c344b5680d80a302a045e4d44185fc61b9a460abd7ca2fd4177496780152a00244e446397ae00bd66b6edbee4e9a14283114b169cc114d1a7dc3d3d126f8145e40b49a48a57979f89839ecb475236f0c2594885ab9262c92af6c58928afb1d9a8454a28b448025fb6d63625ab5c8da10de740d1a4fab8acf807e2774db6f7b10bef40f882ff02e8f1388d27471ca2ccb60e413299821181a3f9e3fca8cc287b0c56413aa6699383f6f45a1b91d0b2360e7244bfb4495f0725495ad3d24a12cdc61744ca8d69a000504d8145470518ad19704d6cb8de7b4dc8ff9c8976824ca6d0454c5e805c6a67bae241674f508132500a42a1b41c548310ccde8f1f720f7310544b7a9e107a0b5964fe97dcbd81e1b75c435393a91785d2eb067c4d6e471bcf684723b3c9193d1ca168ae8f4edf94f134456c85e82f24b686069b6778397414e4476c8580341712c53c864647a209b56c4a3bb9e5e641c29e743d859f87096f4f4f85a5152fbbba820fca5bc0c222734d4eb38c7d3f237dcc15f500dc5c18dd724e408e25161f9472fe0722b1e11e7a6e4f308d226ed1a482780bfd228b289a9a49e19a80a3f8ab2c2450ae6d94043a2f4d4abb7931f30c36a451a55ef992f7834b33b8048cde90d11391fc7f314f16f847b1a547a78ea754c941647bd7d293e345b6a2f5f91e7699b9a6da8503a853a94414a4d1d478c0fac0e50219fc29c6e841f7a2be754a3499eaa0adb4f1e5b7d048dc948c59df1cb429f4a6bce2ab8b124d75a7eec804c661a4a386e194d497734c7388be97e0c24a7866ac3983f6735444e9babed058cda14b30eb12049ccb484624aa5418528e381dd516b7f40471944836acd1466e006cfe655c66e081b59e45898dcb18f02c2987e2a8c915b3498e4c4aa1edfb791bbd0b8e7349c8d89dce47cda0ae549a84baf5b1042758a87a674cdd9ca1f3726d292cf274e6708e28f14cc2bf4d47bd539d85929fd77d4eae4548f7b993503b9752901020320f21d0fe4fa5afbfb8d9f5f01a98d570c40e25344cf08df708a1122bf060f1eb2ab1346c44dd8ba918630b66061f879f2d9085084f00876c13f2350e10ac9bce9b885de4456dad855cfb3a50cbfa23fa8282e94a492bb63823c52ac4ed33c049e7f75aed4c5483cb324540faf0b7f5bee75e5a334fcbaf442cc95442129b41261989ec114afcb27186b7a8ade874fe121158278f4031aff9b6503e3770aa19af050404294150a082be71b7d8c1c04a8efd09440045679076313006780755dc2bf2b50b194a679ebf81eb508afef5ddd99dadb14646d29efaea3d4a053c57925cde3fab704cee9874b17b49d8d7d710353746f1714ad1b0adb87d85c3b7a55d2f339965ac4d55a00f8e2b180c5fadba2700f72ad94906b5b3e1382a7bba4da03561e3b3db4ce8ad831962751a14a92afe2d40d10f49de852247916202b82712f58ece93a24755a9ac4ea367b537cbc9900efa898f40e188556e88b5e44814edc0938f56c949e0946227d5311cbc848955366fe76b4aa0bc0e45c7f958d038c64a4a1fb3814c6d8987adc2148600d8a7b72b42455f4eac951461430f247104fbbc3410daaf4c789ed4373ce2f27e22003c80ee29e4493999ed2af733bc80fe",
                UserCompanyBindId = Guid.Parse("7a2c62da-8aa3-40bd-bfa0-8aebe2c9ab54"),
                ExtendedInformation = "b906c43c37164ba2a0c5a3a5cd5b2b9a5b322556a78148cfa3481969d34758cddbcbde7facaa4b71ab64f1e29a0a1e43c51d1ade874445ff873f65ae713c0067b8505cb556934956b876e33adb70d566d14ccd702c3a49979b7c0b5da6d8a45be2cccd9d0b9d4d248038d9adb24446aca5b95b6463b74cb9b11528b896957a5b2bdb88051af44656a95486177926017b2ce50ae588be423892a32c2a4f2b22cad409fc87298d4539a460b4dfcb4df1c83bb35cbafc1d4a8d8ce07f0fa63a82e6cf5ed09dc3dc402d92e87dfc432b95bd9dba40eaaaa04839a478e1713a54493e79ef47a6cea74d8dbb57cb0b0e6b0ccafebcb06ba099490cb6f4",
                DateA = new DateTime(2004, 10, 2),
                DateD = new DateTime(2011, 4, 7),
                Sort = 696742235,
                Note = "5c9cd244f85646858fb6559a072f285b173c89a8e20d407b91f7ff2e05b6ea9bceed328a920d44ae9d7083fce2015be6a2d33916cb064d9cb246b7ebc00c97568a7d142f236b41479e3ff483de3454763bda3c69b8ef406596eb066910414767add9425a4e83494c993ae3fd084b22a4479dc8b636df497fb1740af50ed2556cfa9b78c9129f44be96de824efd4ed415226cd3f32e58464ba1d214998a3d296a7fe80bece512453da0e943ba9248c2dc459b9db794e04ab2b005f9f1671059450d3b3d28f3bd4d08bd1bea200d30cc14e3909c9a80be4b3b81c26d461b5f50a4f1752fe125d840ae96a79ed52e9a8415b16af94cc2554386a016",
                Status = "c810ea7ce75d46d0b20383837a6a0f97097a20db56d449ac84"
            };

            // Act
            var serviceResult = await _resumeSnapshotsAppService.UpdateAsync(Guid.Parse("93441a69-0f55-47cc-ac39-0d3237dec291"), input);

            // Assert
            var result = await _resumeSnapshotRepository.FindAsync(c => c.Id == serviceResult.Id);

            result.ShouldNotBe(null);
            result.UserMainId.ShouldBe(Guid.Parse("276d0343-2bee-4ae7-9b27-7b8a07ec4a2c"));
            result.ResumeMainId.ShouldBe(Guid.Parse("e916b41b-1a6f-4dcc-ab3e-d9508adf9cc5"));
            result.CompanyMainId.ShouldBe(Guid.Parse("83c5599f-0383-423e-a386-904c4e22cb36"));
            result.CompanyJobId.ShouldBe(Guid.Parse("760e65b6-979d-4b09-a55a-73abeaf8dc40"));
            result.Snapshot.ShouldBe("c84bf21d01944d2288e6353629562d3e6ee77104bbef42548aedc87e66cbadb57de694933d5f4e0c8268be58d4cea29b1107f25a71144268a394629b6e7a6b2bb47a60ef3f374c0f9c721d4aa56565269ca447756ba7435982244d867dbdc7e3b2f0babf74c44224ae561603dc117aa872f6e41c04ba4d979b6f1623ceb888b661cd6acbe09144aba9bd03bab602509c6006090c30ad4d569b1f811efc17fc2c5863fd73ef294cbc83853289f9c6f470eae03d25cbdf451fbe2bdb3784fff32bda12e20ad0384315ad9d4001d681feaf72580a042b894e7185a9e2e6675f47f972164237034644b8893d4ab5295bc58b126a9f2bfd2e406f89521f615d34580eed33a844a1e249e2a97219b854e7e32ab95cb9511c2e4682b29c83ad313810ba8f3fe03a94f44d3caf1478654e0e7d793173c6cef8ac492d8ec751599bfddfc04d38eb99171d4b13abe13f4972385c9327894435f7854c0798f8759b8caa2c2d79acb46197904ead9d5edd8cea267da376579c26b9e2467581a855d059224d5a0645b7ae9b86455085877adf5c71f109ab52462cb38649cf9f4fee330c58d4fed5e76ae379494a968bc637c56c790a1474aa5ad053a34895b47a9648068e2ac396b2f79498c54b0d8ada554335b5b1ddb1b934ae84ad402fb85ffff6f5849d95f9a1d11b57a246dca124bfb8c6d0eb55d735e6834d3448228d3248ba69d0b70156e1e739507a427ab75b56aca41dfe4daa358ba9fe6c46d389e7d82ee62cbd79caf4731c1f8f477483f31e506c29477d2c9ee19b47334a35b1b4b7bbaeb7ce31f6c62d40ab0e43a9b81aba8026d26f7dae17ea5ecf054a1d95937f1335fcfff6e01151392c6d4eda8faad79474a45c0076a2db4368ad45e094892b5589692f2e13b829f7d6f4487187487812ab6dcad4fb00653e8c804ee6941917480f758389c4461501f2e244bfbad09fc0dc673ceb5d33dd2ca7424f39a9987db13aaf7db0e5f8110cdbfe45b89448ffc0eede364314a4d417ca8b444e960b8fbfbe3392229b29f47dfdf746dc941e3ac11f5f672b4d31fbb623d246f6ab1f5216e5ced9bdb2703ae9a8ce4e6a9a9b061eb7c377b1948d73ce182b4320b141c623ac575c423b827cd3dbf848b9bf434e60388824fdac901471afa346809da7f2b0c582f2c3631d738a5c344b5680d80a302a045e4d44185fc61b9a460abd7ca2fd4177496780152a00244e446397ae00bd66b6edbee4e9a14283114b169cc114d1a7dc3d3d126f8145e40b49a48a57979f89839ecb475236f0c2594885ab9262c92af6c58928afb1d9a8454a28b448025fb6d63625ab5c8da10de740d1a4fab8acf807e2774db6f7b10bef40f882ff02e8f1388d27471ca2ccb60e413299821181a3f9e3fca8cc287b0c56413aa6699383f6f45a1b91d0b2360e7244bfb4495f0725495ad3d24a12cdc61744ca8d69a000504d8145470518ad19704d6cb8de7b4dc8ff9c8976824ca6d0454c5e805c6a67bae241674f508132500a42a1b41c548310ccde8f1f720f7310544b7a9e107a0b5964fe97dcbd81e1b75c435393a91785d2eb067c4d6e471bcf684723b3c9193d1ca168ae8f4edf94f134456c85e82f24b686069b6778397414e4476c8580341712c53c864647a209b56c4a3bb9e5e641c29e743d859f87096f4f4f85a5152fbbba820fca5bc0c222734d4eb38c7d3f237dcc15f500dc5c18dd724e408e25161f9472fe0722b1e11e7a6e4f308d226ed1a482780bfd228b289a9a49e19a80a3f8ab2c2450ae6d94043a2f4d4abb7931f30c36a451a55ef992f7834b33b8048cde90d11391fc7f314f16f847b1a547a78ea754c941647bd7d293e345b6a2f5f91e7699b9a6da8503a853a94414a4d1d478c0fac0e50219fc29c6e841f7a2be754a3499eaa0adb4f1e5b7d048dc948c59df1cb429f4a6bce2ab8b124d75a7eec804c661a4a386e194d497734c7388be97e0c24a7866ac3983f6735444e9babed058cda14b30eb12049ccb484624aa5418528e381dd516b7f40471944836acd1466e006cfe655c66e081b59e45898dcb18f02c2987e2a8c915b3498e4c4aa1edfb791bbd0b8e7349c8d89dce47cda0ae549a84baf5b1042758a87a674cdd9ca1f3726d292cf274e6708e28f14cc2bf4d47bd539d85929fd77d4eae4548f7b993503b9752901020320f21d0fe4fa5afbfb8d9f5f01a98d570c40e25344cf08df708a1122bf060f1eb2ab1346c44dd8ba918630b66061f879f2d9085084f00876c13f2350e10ac9bce9b885de4456dad855cfb3a50cbfa23fa8282e94a492bb63823c52ac4ed33c049e7f75aed4c5483cb324540faf0b7f5bee75e5a334fcbaf442cc95442129b41261989ec114afcb27186b7a8ade874fe121158278f4031aff9b6503e3770aa19af050404294150a082be71b7d8c1c04a8efd09440045679076313006780755dc2bf2b50b194a679ebf81eb508afef5ddd99dadb14646d29efaea3d4a053c57925cde3fab704cee9874b17b49d8d7d710353746f1714ad1b0adb87d85c3b7a55d2f339965ac4d55a00f8e2b180c5fadba2700f72ad94906b5b3e1382a7bba4da03561e3b3db4ce8ad831962751a14a92afe2d40d10f49de852247916202b82712f58ece93a24755a9ac4ea367b537cbc9900efa898f40e188556e88b5e44814edc0938f56c949e0946227d5311cbc848955366fe76b4aa0bc0e45c7f958d038c64a4a1fb3814c6d8987adc2148600d8a7b72b42455f4eac951461430f247104fbbc3410daaf4c789ed4373ce2f27e22003c80ee29e4493999ed2af733bc80fe");
            result.UserCompanyBindId.ShouldBe(Guid.Parse("7a2c62da-8aa3-40bd-bfa0-8aebe2c9ab54"));
            result.ExtendedInformation.ShouldBe("b906c43c37164ba2a0c5a3a5cd5b2b9a5b322556a78148cfa3481969d34758cddbcbde7facaa4b71ab64f1e29a0a1e43c51d1ade874445ff873f65ae713c0067b8505cb556934956b876e33adb70d566d14ccd702c3a49979b7c0b5da6d8a45be2cccd9d0b9d4d248038d9adb24446aca5b95b6463b74cb9b11528b896957a5b2bdb88051af44656a95486177926017b2ce50ae588be423892a32c2a4f2b22cad409fc87298d4539a460b4dfcb4df1c83bb35cbafc1d4a8d8ce07f0fa63a82e6cf5ed09dc3dc402d92e87dfc432b95bd9dba40eaaaa04839a478e1713a54493e79ef47a6cea74d8dbb57cb0b0e6b0ccafebcb06ba099490cb6f4");
            result.DateA.ShouldBe(new DateTime(2004, 10, 2));
            result.DateD.ShouldBe(new DateTime(2011, 4, 7));
            result.Sort.ShouldBe(696742235);
            result.Note.ShouldBe("5c9cd244f85646858fb6559a072f285b173c89a8e20d407b91f7ff2e05b6ea9bceed328a920d44ae9d7083fce2015be6a2d33916cb064d9cb246b7ebc00c97568a7d142f236b41479e3ff483de3454763bda3c69b8ef406596eb066910414767add9425a4e83494c993ae3fd084b22a4479dc8b636df497fb1740af50ed2556cfa9b78c9129f44be96de824efd4ed415226cd3f32e58464ba1d214998a3d296a7fe80bece512453da0e943ba9248c2dc459b9db794e04ab2b005f9f1671059450d3b3d28f3bd4d08bd1bea200d30cc14e3909c9a80be4b3b81c26d461b5f50a4f1752fe125d840ae96a79ed52e9a8415b16af94cc2554386a016");
            result.Status.ShouldBe("c810ea7ce75d46d0b20383837a6a0f97097a20db56d449ac84");
        }

        [Fact]
        public async Task DeleteAsync()
        {
            // Act
            await _resumeSnapshotsAppService.DeleteAsync(Guid.Parse("93441a69-0f55-47cc-ac39-0d3237dec291"));

            // Assert
            var result = await _resumeSnapshotRepository.FindAsync(c => c.Id == Guid.Parse("93441a69-0f55-47cc-ac39-0d3237dec291"));

            result.ShouldBeNull();
        }
    }
}